<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bharath Medicare - Secure Health Platform</title>
  
  <!-- Favicon -->
  <link rel="icon" type="image/png" sizes="32x32" href="assets/images/logo.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/images/logo.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/images/logo.png">
  
  <!-- Meta Tags for Social Media & Link Previews -->
  <meta name="description" content="BharathMedicare - Comprehensive digital healthcare management platform for Indian healthcare ecosystem. Secure medical records, doctor-patient interactions, and hospital operations.">
  <meta name="keywords" content="healthcare, medical records, digital health, India, patient portal, doctor portal, hospital management">
  <meta name="author" content="BharathMedicare">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://bharath-medicare.vercel.app/">
  <meta property="og:title" content="BharathMedicare - Secure Health Platform">
  <meta property="og:description" content="Comprehensive digital healthcare management platform for the Indian healthcare ecosystem">
  <meta property="og:image" content="https://bharath-medicare.vercel.app/assets/images/logo.png">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://bharath-medicare.vercel.app/">
  <meta property="twitter:title" content="BharathMedicare - Secure Health Platform">
  <meta property="twitter:description" content="Comprehensive digital healthcare management platform for the Indian healthcare ecosystem">
  <meta property="twitter:image" content="https://bharath-medicare.vercel.app/assets/images/logo.png">
  
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap" rel="stylesheet"/>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="assets/css/theme.css">
  <link rel="stylesheet" href="assets/css/landing.css">
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar">
    <div class="container navbar-content">
      <a href="#home" class="navbar-brand">
    <img src="assets/images/logo.png" alt="Bharath Medicare Logo" style="height: 40px; margin-right: 10px; vertical-align: middle;">
    Bharath Medicare
</a>
      <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
        <i class="fas fa-bars"></i>
      </button>
      <div class="navbar-nav" id="navMenu">
        <a href="#home" class="nav-link">Home</a>
        <a href="#services" class="nav-link">Services</a>
        <a href="#about" class="nav-link">About</a>
        <a href="#contact" class="nav-link">Contact</a>
        <button id="themeToggle" class="theme-toggle-btn" onclick="toggleTheme()" title="Toggle Dark Mode">
          <i class="fas fa-moon"></i>
        </button>
        <a href="pages/login.html" class="btn-primary">Login</a>
        <a href="pages/register.html" class="btn-secondary">Register</a>
      </div>
    </div>
  </nav>

  <!-- Hero Banner -->
  <section class="hero-banner" id="home">
    <div class="hero-overlay"></div>
    <div class="hero-container">
      <div class="hero-text-content">
        <div class="hero-badge">
          <i class="fas fa-check-circle"></i>
          <span id="heroBadge">Trusted Healthcare Platform</span>
        </div>
        <h1>Your Health Data, <br/>Secured & Accessible</h1>
        <p class="hero-description">
          Store, manage, and share your medical records with complete security. 
          Access your health information anytime, anywhere with our encrypted platform.
        </p>
        <div class="hero-actions">
          <a href="pages/register.html" class="btn-primary">
            Get Started Free <i class="fas fa-arrow-right"></i>
          </a>
          <a href="#services" class="btn-outline">
            Learn More <i class="fas fa-play-circle"></i>
          </a>
        </div>
      </div>

      <div class="hero-visual-section">
        <div class="floating-cards">
          <div class="health-card card-1">
            <div class="card-icon">
              <i class="fas fa-heartbeat"></i>
            </div>
            <div class="card-content">
              <h4>Heart Rate</h4>
              <div class="health-value">72 BPM</div>
            </div>
          </div>

          <div class="health-card card-2">
            <div class="card-icon">
              <i class="fas fa-procedures"></i>
            </div>
            <div class="card-content">
              <h4>Blood Pressure</h4>
              <div class="health-value">120/80</div>
            </div>
          </div>

          <div class="health-card card-3">
            <div class="card-icon">
              <i class="fas fa-temperature-high"></i>
            </div>
            <div class="card-content">
              <h4>Temperature</h4>
              <div class="health-value">98.6°F</div>
            </div>
          </div>

          <div class="central-pulse">
            <div class="pulse-center">
              <i class="fas fa-heart"></i>
            </div>
            <div class="pulse-rings">
              <div class="pulse-ring"></div>
              <div class="pulse-ring"></div>
              <div class="pulse-ring"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="trust-indicators">
      <div class="trust-item">
        <div class="trust-number" id="heroActiveUsers">Loading...</div>
        <div class="trust-label">Active Users</div>
      </div>
      <div class="trust-item">
        <div class="trust-number" id="heroDoctors">Loading...</div>
        <div class="trust-label">Doctors</div>
      </div>
      <div class="trust-item">
        <div class="trust-number" id="heroUptime">Loading...</div>
        <div class="trust-label">Uptime</div>
      </div>
    </div>
  </section>

  <!-- Quick Services -->
  <section class="quick-services" id="services">
    <div class="container">
      <div class="section-header">
        <h2>Our Core Services</h2>
        <p>Comprehensive healthcare management solutions designed for modern needs</p>
      </div>

      <div class="services-grid">
        <div class="service-card">
          <div class="service-icon">
            <i class="fas fa-file-medical"></i>
          </div>
          <h3>Medical Records</h3>
          <p>Store and manage all your medical documents securely in one encrypted cloud platform</p>
          <a href="pages/register.html" class="service-btn">Get Started</a>
        </div>

        <div class="service-card">
          <div class="service-icon">
            <i class="fas fa-user-md"></i>
          </div>
          <h3>Doctor Access</h3>
          <p>Grant and revoke doctor access to your records with complete control and transparency</p>
          <a href="pages/register.html" class="service-btn">Learn More</a>
        </div>

        <div class="service-card">
          <div class="service-icon">
            <i class="fas fa-shield-alt"></i>
          </div>
          <h3>Data Security</h3>
          <p>Military-grade encryption ensures your medical data stays private and secure</p>
          <a href="#about" class="service-btn">View Details</a>
        </div>

        <div class="service-card">
          <div class="service-icon">
            <i class="fas fa-history"></i>
          </div>
          <h3>Audit Logs</h3>
          <p>Track every access to your records with detailed audit trails and timestamps</p>
          <a href="#about" class="service-btn">Explore</a>
        </div>

        <div class="service-card">
          <div class="service-icon">
            <i class="fas fa-mobile-alt"></i>
          </div>
          <h3>Mobile Access</h3>
          <p>Access your health records anytime, anywhere from any device securely</p>
          <a href="pages/register.html" class="service-btn">Download App</a>
        </div>

        <div class="service-card">
          <div class="service-icon">
            <i class="fas fa-chart-line"></i>
          </div>
          <h3>Health Analytics</h3>
          <p>Get insights from your medical history with advanced analytics and reports</p>
          <a href="#about" class="service-btn">View More</a>
        </div>
      </div>
    </div>
  </section>

  <!-- About Us -->
  <section class="about-us" id="about">
    <div class="container">
      <div class="about-content">
        <div class="about-text">
          <h2>About Bharath Medicare</h2>
          <p>
            We're revolutionizing healthcare data management with a secure, patient-centric platform 
            that puts you in complete control of your medical information.
          </p>
          <p>
            Our mission is to make healthcare more accessible, transparent, and efficient by providing 
            a unified platform where patients, doctors, and healthcare providers can securely share 
            and access medical records.
          </p>
          
          <div class="stats-grid">
            <div class="stat-item">
              <div class="stat-number" id="aboutPatients">Loading...</div>
              <div class="stat-label">Happy Patients</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" id="aboutDoctors">Loading...</div>
              <div class="stat-label">Healthcare Providers</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" id="aboutRecords">Loading...</div>
              <div class="stat-label">Records Secured</div>
            </div>
            <div class="stat-item">
              <div class="stat-number" id="aboutUptime">Loading...</div>
              <div class="stat-label">System Uptime</div>
            </div>
          </div>
        </div>

        <div class="about-image">
          <img src="assets/images/logo.png" alt="Bharath Medicare Logo">
        </div>
      </div>
    </div>
  </section>

  <!-- Why Choose Us -->
  <section class="why-choose-us">
    <div class="container">
      <div class="why-content">
        <div class="why-text">
          <h2>Why Choose Bharath Medicare?</h2>
          <p class="why-description">
            We combine cutting-edge technology with healthcare expertise to deliver 
            a platform that's secure, intuitive, and reliable.
          </p>

          <div class="feature-list">
            <div class="feature-item">
              <div class="feature-icon">
                <i class="fas fa-lock"></i>
              </div>
              <div class="feature-text">
                <h4>End-to-End Encryption</h4>
                <p>Your medical records are encrypted before storage using military-grade encryption standards</p>
              </div>
            </div>

            <div class="feature-item">
              <div class="feature-icon">
                <i class="fas fa-user-shield"></i>
              </div>
              <div class="feature-text">
                <h4>Complete Privacy Control</h4>
                <p>You decide who can access your records and can revoke access anytime</p>
              </div>
            </div>

            <div class="feature-item">
              <div class="feature-icon">
                <i class="fas fa-check-double"></i>
              </div>
              <div class="feature-text">
                <h4>HIPAA Compliant</h4>
                <p>Built following healthcare data security standards and regulations</p>
              </div>
            </div>

            <div class="feature-item">
              <div class="feature-icon">
                <i class="fas fa-cloud"></i>
              </div>
              <div class="feature-text">
                <h4>Cloud-Based Storage</h4>
                <p>Access your records anywhere with secure cloud storage and backup</p>
              </div>
            </div>
          </div>

          <a href="pages/register.html" class="btn-primary">
            Start Your Journey <i class="fas fa-arrow-right"></i>
          </a>
        </div>

        <div class="why-visual">
          <div class="visual-container">
            <div class="floating-elements">
              <div class="float-element element-1">
                <i class="fas fa-lock"></i>
              </div>
              <div class="float-element element-2">
                <i class="fas fa-shield-alt"></i>
              </div>
              <div class="float-element element-3">
                <i class="fas fa-heart"></i>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Reviews -->
  <section class="reviews-section">
    <div class="container">
      <div class="section-header">
        <h2>What Our Users Say</h2>
        <p>Real experiences from patients and healthcare professionals</p>
      </div>

      <div class="reviews-grid" id="reviewsGrid">
        <!-- Reviews will be loaded dynamically -->
        <div class="review-card">
          <div class="review-stars">
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
            <i class="fas fa-star"></i>
          </div>
          <p class="review-text">Loading testimonials...</p>
          <div class="reviewer-info">
            <div class="reviewer-avatar">...</div>
            <div class="reviewer-details">
              <h4>Loading</h4>
              <p>Please wait</p>
            </div>
          </div>
        </div>
      </div>
      
      <div style="text-align: center; margin-top: 40px;">
        <p style="color: #666; font-size: 0.9rem;">
          <i class="fas fa-shield-alt" style="color: #00d084;"></i> 
          All testimonials are from verified users
        </p>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section class="contact-section" id="contact">
    <div class="container">
      <div class="contact-content">
        <div class="contact-info">
          <h2>Get In Touch</h2>
          <p>
            Have questions? We're here to help. Reach out to our support team 
            and we'll get back to you as soon as possible.
          </p>

          <div class="contact-details">
            <div class="contact-item">
              <div class="contact-icon">
                <i class="fas fa-envelope"></i>
              </div>
              <div class="contact-text">
                <h4>Email Us</h4>
                <p>support@bharathmedicare.com</p>
              </div>
            </div>

            <div class="contact-item">
              <div class="contact-icon">
                <i class="fas fa-phone"></i>
              </div>
              <div class="contact-text">
                <h4>Call Us</h4>
                <p>+91 1800-123-4567</p>
              </div>
            </div>

            <div class="contact-item">
              <div class="contact-icon">
                <i class="fas fa-map-marker-alt"></i>
              </div>
              <div class="contact-text">
                <h4>Visit Us</h4>
                <p>123 Health Street, Mumbai, India</p>
              </div>
            </div>
          </div>
        </div>

        <div class="contact-form">
          <form id="contactForm" onsubmit="handleContactSubmit(event)">
            <div class="form-group">
              <label for="name">Your Name</label>
              <input type="text" id="name" name="name" required placeholder="Enter your name">
            </div>

            <div class="form-group">
              <label for="email">Email Address</label>
              <input type="email" id="email" name="email" required placeholder="Enter your email">
            </div>

            <div class="form-group">
              <label for="message">Message</label>
              <textarea id="message" name="message" required placeholder="How can we help you?"></textarea>
            </div>

            <button type="submit" class="submit-btn">
              Send Message <i class="fas fa-paper-plane"></i>
            </button>
          </form>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="container">
      <div class="cta-content">
        <h2>Ready to Take Control of Your Health Data?</h2>
        <p>Join thousands of satisfied users managing their healthcare records securely</p>
        <div class="cta-actions">
          <a href="pages/register.html" class="btn-primary">
            Create Free Account <i class="fas fa-arrow-right"></i>
          </a>
          <a href="pages/login.html" class="btn-outline">
            Sign In <i class="fas fa-sign-in-alt"></i>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="footer-content">
        <div class="footer-section">
          <h3><i class="fas fa-heartbeat"></i> Bharath Medicare</h3>
          <p>Your trusted partner in healthcare data management. Secure, private, and accessible.</p>
          <div class="social-links">
            <a href="#"><i class="fab fa-facebook-f"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-linkedin-in"></i></a>
            <a href="#"><i class="fab fa-instagram"></i></a>
          </div>
        </div>

        <div class="footer-section">
          <h3>Quick Links</h3>
          <ul>
            <li><a href="#home">Home</a></li>
            <li><a href="#services">Services</a></li>
            <li><a href="#about">About Us</a></li>
            <li><a href="#contact">Contact</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h3>Services</h3>
          <ul>
            <li><a href="pages/register.html">Patient Portal</a></li>
            <li><a href="pages/register.html">Doctor Portal</a></li>
            <li><a href="pages/hospital-portal.html">Hospital Portal</a></li>
            <li><a href="pages/medical-records.html">Medical Records</a></li>
            <li><a href="pages/health-analytics.html">Health Analytics</a></li>
          </ul>
        </div>

        <div class="footer-section">
          <h3>Support</h3>
          <ul>
            <li><a href="pages/help-center.html">Help Center</a></li>
            <li><a href="pages/privacy-policy.html">Privacy Policy</a></li>
            <li><a href="pages/terms-of-service.html">Terms of Service</a></li>
            <li><a href="pages/faq.html">FAQ</a></li>
          </ul>
        </div>
      </div>

      <div class="footer-bottom">
        <p>&copy; 2025 Bharath Medicare. All rights reserved. | Built with ❤️ for better healthcare</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="js/config.js"></script>
  <script src="js/api.js"></script>
  <script src="js/theme-toggle.js"></script>
  <script>
    // Mobile menu toggle
    function toggleMobileMenu() {
      const navMenu = document.getElementById('navMenu');
      navMenu.classList.toggle('active');
    }

    // Contact form handler
    function handleContactSubmit(event) {
      event.preventDefault();
      alert('Thank you for your message! We will get back to you soon.');
      document.getElementById('contactForm').reset();
    }

    // Redirect if already logged in (but not if just logged out)
    const urlParams = new URLSearchParams(window.location.search);
    const justLoggedOut = urlParams.get('logout') === 'true';
    
    if (isAuthenticated() && !justLoggedOut) {
      const user = getUserData();
      if (user && user.role) {
        redirectToDashboard(user.role);
      }
    }
    
    // Clean up URL if logout parameter exists and force reload if needed
    if (justLoggedOut) {
      // Check if this is the first time seeing the logout parameter
      const hasReloaded = sessionStorage.getItem('logout_reloaded');
      
      if (!hasReloaded) {
        // Mark that we've reloaded once
        sessionStorage.setItem('logout_reloaded', 'true');
        // Force a full page reload to clear any cached data
        window.location.reload(true);
      } else {
        // Clean up after reload
        sessionStorage.removeItem('logout_reloaded');
        window.history.replaceState({}, document.title, window.location.pathname);
      }
    }

    // Smooth scroll for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({
            behavior: 'smooth',
            block: 'start'
          });
          // Close mobile menu if open
          document.getElementById('navMenu').classList.remove('active');
        }
      });
    });

    // Fetch and display real statistics
    async function loadStatistics() {
      try {
        const response = await fetch(`${API_BASE_URL}/api/stats/public`);
        if (response.ok) {
          const data = await response.json();
          const stats = data.stats;
          
          // Format numbers with K suffix
          const formatNumber = (num) => {
            if (num >= 1000) {
              return (num / 1000).toFixed(1).replace('.0', '') + 'K+';
            }
            return num + '+';
          };
          
          // Update hero badge with real user count
          const totalUsers = stats.total_users;
          if (totalUsers > 0) {
            document.getElementById('heroBadge').textContent = `Trusted by ${formatNumber(totalUsers)} Users`;
          }
          
          // Update hero section
          document.getElementById('heroActiveUsers').textContent = formatNumber(stats.total_users);
          document.getElementById('heroDoctors').textContent = formatNumber(stats.total_doctors);
          document.getElementById('heroUptime').textContent = stats.uptime;
          
          // Update about section
          document.getElementById('aboutPatients').textContent = formatNumber(stats.total_patients);
          document.getElementById('aboutDoctors').textContent = formatNumber(stats.total_doctors);
          document.getElementById('aboutRecords').textContent = formatNumber(stats.total_records);
          document.getElementById('aboutUptime').textContent = stats.uptime;
        }
      } catch (error) {
        console.log('Could not load statistics from API');
        // Show fallback message
        document.getElementById('heroBadge').textContent = 'Trusted Healthcare Platform';
        document.getElementById('heroActiveUsers').textContent = '0';
        document.getElementById('heroDoctors').textContent = '0';
        document.getElementById('heroUptime').textContent = '99.9%';
        document.getElementById('aboutPatients').textContent = '0';
        document.getElementById('aboutDoctors').textContent = '0';
        document.getElementById('aboutRecords').textContent = '0';
        document.getElementById('aboutUptime').textContent = '99.9%';
      }
    }

    // Load statistics on page load
    loadStatistics();

    // Fetch and display real testimonials
    async function loadTestimonials() {
      try {
        const response = await fetch(`${API_BASE_URL}/api/stats/testimonials`);
        if (response.ok) {
          const data = await response.json();
          const testimonials = data.testimonials;
          
          const reviewsGrid = document.getElementById('reviewsGrid');
          
          if (testimonials.length === 0) {
            reviewsGrid.innerHTML = `
              <div class="review-card" style="grid-column: 1 / -1; text-align: center;">
                <p class="review-text" style="color: #666;">
                  <i class="fas fa-comments" style="font-size: 3rem; color: #00d084; margin-bottom: 20px; display: block;"></i>
                  Be the first to share your experience with Bharath Medicare!
                </p>
              </div>
            `;
            return;
          }
          
          // Display testimonials
          reviewsGrid.innerHTML = testimonials.map(testimonial => {
            // Generate stars based on rating
            const stars = Array(testimonial.rating || 5).fill('<i class="fas fa-star"></i>').join('');
            
            // Format role display
            let roleDisplay = testimonial.user_role;
            if (testimonial.user_role === 'doctor') {
              roleDisplay = 'Healthcare Professional';
            } else if (testimonial.user_role === 'patient') {
              roleDisplay = 'Patient';
            } else {
              roleDisplay = 'User';
            }
            
            return `
              <div class="review-card">
                <div class="review-stars">
                  ${stars}
                </div>
                <p class="review-text">
                  "${testimonial.message}"
                </p>
                <div class="reviewer-info">
                  <div class="reviewer-avatar">${testimonial.initials}</div>
                  <div class="reviewer-details">
                    <h4>${testimonial.user_name}</h4>
                    <p>${roleDisplay}</p>
                  </div>
                </div>
              </div>
            `;
          }).join('');
        }
      } catch (error) {
        console.log('Could not load testimonials, showing default message');
        const reviewsGrid = document.getElementById('reviewsGrid');
        reviewsGrid.innerHTML = `
          <div class="review-card" style="grid-column: 1 / -1; text-align: center;">
            <p class="review-text" style="color: #666;">
              <i class="fas fa-heart" style="font-size: 3rem; color: #00d084; margin-bottom: 20px; display: block;"></i>
              Join thousands of satisfied users managing their healthcare records securely
            </p>
          </div>
        `;
      }
    }

    // Load testimonials on page load
    loadTestimonials();
  </script>
</body>
</html>
